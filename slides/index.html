<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Data Visualisation: Tools and Processes</title>

		<meta name="author" content="Peter Cook">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h3>Creative Data Visualisation</h3>
					<h3>with HTML5</h3>
					<br>
					<p>by Peter Cook / @animateddata</p>
				</section>


				<section>
					<h3>Creative Data Visualisation</h3>
					<p>The transformation of data into visual form</p>
					<p>Probably not using pre-built charts (e.g. bar charts, line graphs)</p>
				</section>

				<section>
					<h3>Examples</h3>
				</section>

				<section>
					<h3>Corporate taxes</h3>
					<a href="http://www.nytimes.com/interactive/2013/05/25/sunday-review/corporate-taxes.html"><img src="img/tax.jpg"></a>
					<p>www.nytimes.com/interactive/2013/05/25/sunday-review/corporate-taxes.html</p>
				</section>

				<section>
					<h3>US Gun Deaths</h3>
					<a href="http://guns.periscopic.com/?year=2013"><img src="img/gundeaths.jpg"></a>
					<p>guns.periscopic.com</p>
				</section>

				<section>
					<h3>UK Temperature History</h3>
					<a href="http://charts.animateddata.co.uk/uktemperaturelines/"><img src="img/uktemp.jpg"></a>
					<p>charts.animateddata.co.uk/uktemperaturelines</p>
				</section>

				<section>
					<h3>Music</h3>
					<a href="http://georgeandjonathan.com"><img src="img/georgejonathan.jpg"></a>
					<p>www.georgeandjonathan.com</p>
				</section>


				<section>
					<h3>HTML5</h3>
					<p>the latest standard for HTML</p>
					<p>&lt;canvas&gt; element for drawing</p>
					<p>Scalable Vector Graphics (SVG) - markup for graphics</p>
				</section>

				<section>
					<h3>What will we be covering?</h3>
					<ul>
						<li>loading csv data into browser</li>
						<li>canvas element</li>
						<li>SVG</li>
						<li>data-driven drawing in the browser</li>
						</ul>
				</section>

				<section>
					<h3>The dataset</h3>
					<p>30 days of earthquake data</p>
					<p>Source: http://earthquake.usgs.gov/earthquakes/feed/v1.0/csv.php</p>
				</section>

				<section>
					<h3>Earthquake depth</h3>
					<img src="img/eq-canvas-1.jpg">
				</section>

				<section>
					<h3>Earthquake depth &amp; magnitude</h3>
					<img src="img/eq-canvas-3.jpg">
				</section>

				<section>
					<h3>Earthquake map</h3>
					<img src="img/eq-canvas-4.jpg">
				</section>

				<section>
					<h3>Earthquake spiral</h3>
					<img src="img/eq-canvas-6.jpg">
				</section>

				<section>
					<h3>Earthquake chart</h3>
					<img src="img/eq-svg-6.jpg">
				</section>

				<section>
					<h3>Caveats</h3>
					<p>I'm presenting a few different approaches</p>
					<p>Not necessarily recommended for production, but good for learning the basics</p>
				</section>

				<section>
					<h2>The technology</h2>
				</section>

				<section>
					<h3>Canvas element</h3>
					<p>Draw shapes in the browser using JavaScript</p>
					<p>No access to the shapes once drawn</p>
					<p>A bit like painting on a canvas... hence the name</p>
				</section>

				<section>
					<img src="img/canvas.jpg">
					<p>HTML</p>
					<pre><code>&lt;canvas id="canvas" width="600" height="600"&gt;&lt;/canvas&gt;</code></pre>
					<p>JavaScript</p>
					<pre><code>var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

ctx.fillStyle = 'yellow';
ctx.fillRect(20, 20, 200, 100);</code></pre>
				</section>

				<section>
					<h3>SVG</h3>
					<p>Markup for graphics (e.g. rectangles, circles, lines, curves)</p>
					<p>Styled using CSS</p>
					<p>Elements can be added/removed/manipulated using JavaScript</p>
					<p>Better for accessibility</p>
				</section>

				<section>
					<img src="img/canvas.jpg">
					<p>HTML</p>
					<pre><code>&lt;svg width="600" height="600"&gt;
&lt;rect x="20" y="20" width="200" height="100"&gt;&lt;/rect&gt;
&lt;/svg&gt;</code></pre>
					<p>CSS</p>
					<pre><code>rect {
fill: yellow;
}</code></pre>
				</section>

				<section>
					<h3>Snap.svg</h3>
					<p>A JavaScript library for adding, removing and manipulating SVG elements</p>
					<p>(Successor of RaphaÃ«l.js)</p>
				</section>

				<section>
					<img src="img/canvas.jpg">
					<p>HTML</p>
					<pre><code>&lt;svg width="600" height="600"&gt;&lt;/svg&gt;</code></pre>
					<p>JavaScript</p>
					<pre><code>var svg = Snap("svg");
var rect = svg.rect(20, 20, 200, 100);
l.attr({
  fill: 'yellow'
});
</code></pre>
				</section>


				<section>
					<h3>D3.js</h3>
					<p>A JavaScript library for adding, removing and manipulating DOM elements</p>
					<p>Data-driven</p>
					<p>Also contains many functions useful for data visualisation</p>
				</section>

				<section>
					<img src="img/d3.jpg">
					<p>HTML</p>
					<pre><code>&lt;svg width="600" height="600"&gt;&lt;/svg&gt;</code></pre>
					<p>JavaScript</p>
					<pre><code>var svg = d3.select('svg');
var myData = [10, 50, 40, 30, 20];
svg.selectAll('circle')
  .data(myData)
  .enter()
  .append('circle')
  .style('fill', 'steelblue')
  .attr('r', function(d) {return d;})
  .attr('cx', function(d, i) {return i * 100;});
</code></pre>
				</section>


				<section>
					<h3>Data</h3>
					<p>We'll be loading in Comma Separated Value (CSV) data using D3</p>
					<p>Just as easy to load TSV &amp; JSON</p>
				</section>

				<section>
					<img src="img/d3.jpg">
					<p>HTML</p>
					<pre><code>&lt;svg width="600" height="600"&gt;&lt;/svg&gt;</code></pre>
					<p>JavaScript</p>
					<pre><code>d3.csv('data/mydata.csv', function(err, csv) {
  var svg = d3.select('svg');
  svg.selectAll('circle')
    .data(csv)
    .enter()
    .append('circle')
    .style('fill', 'steelblue')
    .attr('r', function(d) {return d.size;})
    .attr('cx', function(d, i) {return i * 100;});
});
</code></pre>
				</section>

  		<section>
  			<h3>This Workshop</h3>
  			<p>Use D3 to load CSV</p>
  			<p>Use D3's scale functions</p>
  			<p>JavaScript for Canvas</p>
  			<p>Snap.SVG or D3 for SVG</p>
  		</section>

			<section>
				<h2>Canvas visualisations</h2>
			</section>

			<section>
				<h3>1 - Getting started</h3>
				<img src="img/eq-canvas-1.jpg">
				<p>Use D3 to load earthquake CSV data</p>
				<!-- <p>D3 transforms the CSV into an array of objects</p> -->
				<p>Loop through resulting array and draw a rectangle for each earthquake</p>
			</section>

			<section>
				<h3>2 - D3 scales</h3>
				<p>Use D3 scale functions</p>
			</section>

			<section>
				<h3>3 - Lines and Circles</h3>
				<img src="img/eq-canvas-3.jpg">
				<p>depth on y-axis</p>
				<p>magnitude as circle area</p>
				<p>sequence on x-axis</p>
			</section>

			<section>
				<h3>4 - Geo</h3>
				<img src="img/eq-canvas-4.jpg">
				<p>Use D3 to project lat/lon</p>
			</section>

			<section>
				<h3>5 - Animated Geo</h3>
				<p>Use setTimeout to sequence circle drawing</p>
			</section>

			<section>
				<h3>6 - Spiral</h3>
				<img src="img/eq-canvas-6.jpg">
				<p>Arrange circles in spiral</p>
			</section>


			<section>
				<h2>SVG visualisations</h2>
			</section>

			<section>
				<h3>1 - Lines and Circles</h3>
				<img src="img/eq-canvas-3.jpg">
				<p>Use Snap.SVG to draw lines and circles</p>
				<p>Still using D3 scales</p>
			</section>

			<section>
				<h3>2 - Interaction</h3>
				<p>Add hover event handler to circles</p>
			</section>

			<section>
				<h3>3 - D3</h3>
				<p>Use D3 to bind data to circles and lines</p>
			</section>

			<section>
				<h3>4 - D3 transitions</h3>
				<p>Use D3 to animate lines and circles</p>
			</section>

			<section>
				<h3>5 - Bars and Lines</h3>
				<p>Use bars to represent magnitude</p>
				<p>Use lines to represent depth</p>
				<p>Using Snap.SVG</p>
			</section>

			<section>
				<h3>6 - Bars and Lines</h3>
				<img src="img/eq-svg-6.jpg">
				<p>Using D3</p>
				<p>Interaction</p>
			</section>

			<section>
				<h3>Sum up</h3>
				<p>Canvas for dense, non-interactive visualisations</p>
				<p>SVG for interactive</p>
				<p>Recommend D3 for scales, CSV and non-trivial SVG</p>
			</section>

			<section>
				<h3>Thank you!</h3>
				<p>If you enjoyed this workshop, please tell others</p>
				<p>@animateddata</p>
			</section>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
